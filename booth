#include <stdio.h> 

int main() { 
    int A = 0, Q, M; int q_1 = 0; 
    int count; long long result; 
    
    
    printf("Enter multiplicand: "); 
    scanf("%d", &M); 
    printf("Enter multiplier: "); 
    scanf("%d", &Q); 
    
    count = sizeof(int) * 8; 
    while (count > 0) { 
        if ((Q & 1) == 1 && q_1 == 0) { A = A - M; 
        } else if ((Q & 1) == 0 && q_1 == 1){A = A + M; } q_1 = Q & 1;
        Q = ((unsigned int)Q >> 1) | ((A & 1) << (sizeof(int) * 8 - 1)); 
        A = A >> 1; 
        count--; 
        
    } 
    result = ((long long)A <<32) | (unsigned int)Q; 
    printf("Product = %lld\n", result); 
     
    return 0; 
    
}
